{
  "exception_json": {
    "action_required": {
      "else": {
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {
          "choose_flag": {
            "flag_color": "",
            "primaryValue": "false"
          },
          "forwardLetter": {
            "primaryValue": "false",
            "forwarding_to": "",
            "forwarding_type": ""
          }
        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "9ff7d924-33ef-45c5-a43a-711916790c2f",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Action Required",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "GP Action Required",
            "matrixAssignments": {
              "choose_flag": {
                "flag_color": "URGENT",
                "primaryValue": "true"
              },
              "forwardLetter": {
                "primaryValue": "true",
                "forwarding_to": "Kynoby Actions",
                "forwarding_type": "Group"
              }
            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "safeguarding": {
      "else": {
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "fc368843-42de-41e4-a43e-b34303d03aff",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Safeguarding",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": true,
            "batch_name": "Practice to Review - Urgent",
            "recipient_notes": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    }
  },
  "e2e_config_json": {
    "add_readcodes": "true",
    "add_read_code_date": {
      "primaryValue": "true",
      "read_code_date_type": "var(incident_date)"
    },
    "specific_codes": {
      "columns": [
        {
          "id": "child",
          "canConditional": false,
          "dependsOn": false,
          "isPrimaryKey": true
        },
        {
          "id": "add_code",
          "canConditional": true,
          "dependsOn": false,
          "parentField": true
        },
        {
          "id": "add_read_code_date",
          "canConditional": true,
          "dependsOn": false
        },
        {
          "id": "attach_problem",
          "canConditional": true,
          "dependsOn": false
        },
        {
          "id": "create_problem",
          "canConditional": true,
          "dependsOn": false
        },
        {
          "id": "promote_problem",
          "canConditional": true,
          "dependsOn": false,
          "options": [
            "Promote to problem",
            "Promote to problem until",
            "Promote to inactive problem"
          ]
        },
        {
          "id": "put_summary",
          "canConditional": true,
          "dependsOn": false,
          "options": [
            "Put in the summary",
            "Put in summary until",
            "Put in inactive summary"
          ]
        },
        {
          "id": "problem_severity",
          "canConditional": true,
          "dependsOn": false,
          "options": [
            "Minor",
            "Major"
          ]
        },
        {
          "id": "forced_mappings",
          "canConditional": true,
          "dependsOn": false
        },
        {
          "id": "recipient_notes",
          "canConditional": true,
          "dependsOn": false
        }
      ],
      "value": [
        {
          "id": "XaKqd",
          "badge": "XaKqd",
          "child": "XaKqd",
          "title": "Letter Received",
          "c_term": "Letter Received",
          "add_code": "false",
          "put_summary": "",
          "attach_problem": false,
          "create_problem": false,
          "forced_mappings": "",
          "promote_problem": "",
          "recipient_notes": "",
          "problem_severity": "",
          "add_read_code_date": {
            "primaryValue": "true",
            "read_code_date_type": "var(incident_date)"
          }
        },
        {
          "id": "Xaang",
          "badge": "Xaang",
          "child": "Xaang",
          "title": "Left Early",
          "c_term": "Left Early",
          "add_code": {
            "else": {
              "value": "false",
              "isKilled": false,
              "batch_name": "",
              "recipient_notes": "",
              "matrixAssignments": {

              }
            },
            "type": "cascading-advanced",
            "clauses": [
              {
                "rules": [
                  {
                    "id": "fc06dec4-b8fa-4be2-ab85-e7bc93835dc7",
                    "type": "condition",
                    "field": "var(left_early)",
                    "value": "true",
                    "operator": "contains",
                    "caseSensitive": false
                  }
                ],
                "outcome": {
                  "value": "true",
                  "isKilled": false,
                  "batch_name": "",
                  "recipient_notes": "",
                  "matrixAssignments": {

                  }
                },
                "rootLogicType": "AND"
              }
            ]
          },
          "put_summary": "skip",
          "attach_problem": false,
          "create_problem": false,
          "forced_mappings": "skip",
          "promote_problem": "skip",
          "recipient_notes": "Left Early Detected",
          "problem_severity": "",
          "add_read_code_date": {
            "primaryValue": "true",
            "read_code_date_type": "var(incident_date)"
          }
        },
        {
          "id": "8H2..",
          "badge": "8H2..",
          "child": "8H2..",
          "title": "Admitted",
          "c_term": "Admitted",
          "add_code": "true",
          "put_summary": "",
          "attach_problem": "true",
          "create_problem": "true",
          "forced_mappings": "skip",
          "promote_problem": "",
          "recipient_notes": "skip",
          "problem_severity": "Minor",
          "add_read_code_date": false
        },
        {
          "id": "XaQzu",
          "badge": "XaQzu",
          "child": "XaQzu",
          "title": "OOH report",
          "c_term": "OOH report",
          "add_code": "true",
          "put_summary": "",
          "attach_problem": false,
          "create_problem": "true",
          "forced_mappings": "skip",
          "promote_problem": "",
          "recipient_notes": "skip",
          "problem_severity": "Minor",
          "add_read_code_date": false
        }
      ]
    },
    "laterality_mappings": {
      "columns": [
        {
          "id": "side",
          "canConditional": false,
          "dependsOn": false,
          "isPrimaryKey": true,
          "options": [
            "Left",
            "Right",
            "Bilateral"
          ]
        },
        {
          "id": "mappings",
          "canConditional": false,
          "dependsOn": false
        }
      ],
      "value": [
        {
          "id": "Left",
          "side": "Left",
          "mappings": "l, le, left"
        },
        {
          "id": "Right",
          "side": "Right",
          "mappings": "r, ri, right"
        },
        {
          "id": "Bilateral",
          "side": "Bilateral",
          "mappings": "b, bi, bilateral"
        }
      ]
    }
  },
  "metrics_config_rules": {
    "metrics_list": {
      "columns": [
        {
          "id": "metric",
          "canConditional": false,
          "dependsOn": false,
          "isPrimaryKey": true
        },
        {
          "id": "add_metric",
          "canConditional": true,
          "dependsOn": false,
          "parentField": true
        },
        {
          "id": "metric_codes",
          "canConditional": true,
          "dependsOn": "add_metric"
        },
        {
          "id": "add_metric_date",
          "canConditional": true,
          "dependsOn": false
        },
        {
          "id": "metrics_date_type",
          "canConditional": true,
          "dependsOn": "add_metric_date",
          "options": [
            {
              "id": "letter_date",
              "label": "Letter Date",
              "jsonField": true
            },
            {
              "id": "incident_date",
              "label": "Incident Date",
              "jsonField": true
            },
            {
              "id": "weight_date",
              "label": "Weight Date",
              "jsonField": true
            }
          ]
        }
      ],
      "value": [
        {
          "id": "blood_pressure",
          "metric": "blood_pressure",
          "add_metric": true,
          "metric_codes": "2469/246A.",
          "add_metric_date": false,
          "metrics_date_type": ""
        },
        {
          "id": "weight",
          "metric": "weight",
          "add_metric": true,
          "metric_codes": "227..",
          "add_metric_date": {
            "else": {
              "value": "false",
              "isKilled": false,
              "batch_name": "",
              "recipient_notes": "",
              "matrixAssignments": {

              }
            },
            "type": "cascading-advanced",
            "clauses": [
              {
                "rules": [
                  {
                    "id": "22b13ff8-2c07-4b45-9d26-42326d7b4797",
                    "type": "condition",
                    "field": "var(weight_date)",
                    "value": "",
                    "operator": "is_not_empty",
                    "caseSensitive": false
                  }
                ],
                "outcome": {
                  "value": "true",
                  "isKilled": false,
                  "batch_name": "",
                  "recipient_notes": "",
                  "matrixAssignments": {

                  }
                },
                "rootLogicType": "AND"
              }
            ]
          },
          "metrics_date_type": "var(weight_date)"
        },
        {
          "id": "height",
          "metric": "height",
          "add_metric": true,
          "metric_codes": "229..",
          "add_metric_date": false,
          "metrics_date_type": ""
        },
        {
          "id": "bmi",
          "metric": "bmi",
          "add_metric": true,
          "metric_codes": "22K..",
          "add_metric_date": false,
          "metrics_date_type": ""
        },
        {
          "id": "heart_rate",
          "metric": "heart_rate",
          "add_metric": false,
          "metric_codes": "",
          "add_metric_date": false,
          "metrics_date_type": ""
        },
        {
          "id": "o2_level",
          "metric": "o2_level",
          "add_metric": false,
          "metric_codes": "",
          "add_metric_date": false,
          "metrics_date_type": ""
        },
        {
          "id": "smoker",
          "metric": "smoker",
          "add_metric": false,
          "metric_codes": "",
          "add_metric_date": false,
          "metrics_date_type": ""
        }
      ]
    }
  },
  "assignment_rules": {
    "forwardLetter": {
      "primaryValue": "true",
      "forwarding_to": "Kynoby Coding",
      "forwarding_type": "Group"
    },
    "choose_flag": {
      "flag_color": "",
      "primaryValue": "false"
    },
    "notes_and_id": "var(letter_id)"
  },
  "letter_type_rule": {
    "letter_type": {
      "else": {
        "value": "var(letter_type)",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "323ca4c9-4445-4e61-93ed-fd79f1aed094",
              "type": "condition",
              "field": "hospital_name",
              "value": "York",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "York Hospital",
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "letter_date": "var(incident_date)",
    "hospital_name": "var(hospital_name)",
    "department": "skip"
  }
}