{
  "letter_type_configuration": {
    "letter_type": {
      "else": {
        "notes": "",
        "value": "var(letter_type)",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "4f98c6ad-44a3-4190-8205-fa8b275a3ec0",
              "type": "condition",
              "field": "hospital_name",
              "value": "Diana",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": "Accident and Emergency Letter",
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "letter_date": "var(incident_date)",
    "hospital_name": {
      "else": {
        "notes": "",
        "value": "var(hospital_name)",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "95ca5323-eb23-40bf-abe4-72bc3561ae06",
              "type": "condition",
              "field": "hospital_name",
              "value": "York ED",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": "York Hospital",
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        },
        {
          "rules": [
            {
              "id": "b70b3d3e-badb-4403-b638-2746cb408fee",
              "type": "condition",
              "field": "hospital_name",
              "value": "diana",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": "Diana Hospital",
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        },
        {
          "rules": [
            {
              "id": "dc59b97d-cb30-4e90-929e-df8d84a7bc5b",
              "type": "condition",
              "field": "hospital_name",
              "value": "Princess",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": "Princess Hospital",
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "department": "Emergency Department"
  },
  "exception_checks": {
    "action_required": {
      "else": {
        "notes": "",
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "22bb2c70-dec9-4684-a903-780957ca4ff3",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Action Required",
              "operator": "contains",
              "caseSensitive": false
            },
            {
              "id": "fc03dfc0-e490-4b9c-908d-793e576ea084",
              "type": "group",
              "rules": [
                {
                  "id": "fa9d89de-ac23-4195-878f-1d7d55ba618f",
                  "type": "condition",
                  "field": "var(rpa_note)",
                  "value": "Deceased",
                  "operator": "not_contains",
                  "caseSensitive": false
                },
                {
                  "id": "655cbbb3-3a73-46f6-827f-b5f58ecb6b08",
                  "type": "condition",
                  "field": "var(deceased)",
                  "value": "true",
                  "operator": "not_contains",
                  "caseSensitive": false
                },
                {
                  "id": "ad966507-6f14-4ed1-b59e-179bd843f0b0",
                  "type": "condition",
                  "field": "var(taken_to_hospital)",
                  "value": "true",
                  "operator": "contains",
                  "caseSensitive": false
                }
              ],
              "logicType": "AND"
            }
          ],
          "outcome": {
            "notes": "",
            "value": null,
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        },
        {
          "rules": [
            {
              "id": "7201a8b2-b67e-420f-94ef-172d067010f1",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Action Required",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": null,
            "isKilled": true,
            "batch_name": "GP Action Required",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "safeguarding": {
      "else": {
        "notes": "",
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "ebfef62f-daf8-4a1e-8261-c6be0dab5fd3",
              "type": "condition",
              "field": "var(patient_age)",
              "value": "70",
              "operator": "less_than",
              "caseSensitive": false
            },
            {
              "id": "70df39d9-4114-4c78-bf89-5d7c2f44998a",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Safeguarding",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "Safeguarding concerns detected",
            "value": null,
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "deceased": {
      "else": {
        "notes": "",
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "0315b62a-48d2-4d04-94f7-7a34970968ea",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Deceased",
              "operator": "contains",
              "caseSensitive": false
            },
            {
              "id": "d8a7e819-21f3-48cb-b44f-5f172c28c7ad",
              "type": "condition",
              "field": "var(deceased)",
              "value": "true",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": null,
            "isKilled": true,
            "batch_name": "Deceased Patient",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "fall": {
      "else": {
        "notes": "",
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {
          "choose_flag": "false",
          "add_readcodes": "true",
          "forwardLetter": "false"
        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "a29235a6-6ee3-49a8-8110-7a36acd4a774",
              "type": "condition",
              "field": "var(patient_age)",
              "value": "70",
              "operator": "less_than",
              "caseSensitive": false
            },
            {
              "id": "da94a35c-1306-4a0f-a3c6-a73548ba8bbb",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Fall",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "Over 70 Patient Fall",
            "value": null,
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {
              "flag_color": "Green",
              "choose_flag": "true",
              "add_readcodes": "false",
              "forwardLetter": "true",
              "forwarding_to": "Kynoby Coding",
              "forwarding_type": "Group"
            }
          },
          "rootLogicType": "AND"
        }
      ]
    }
  },
  "readCodes": {
    "add_readcodes": "true",
    "add_date": "true",
    "date_type": "var(read_code_date)",
    "attach_problems": "true",
    "create_problems": {
      "else": {
        "notes": "",
        "value": "false",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "de574579-2a60-44e1-9c65-d069003e9102",
              "type": "condition",
              "field": "var(read_code_date)",
              "value": "",
              "operator": "is_not_empty",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": "true",
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "isMajor": "false",
    "specific_codes": {
      "columns": [
        {
          "key": "child",
          "canConditional": true
        },
        {
          "key": "addCode",
          "canConditional": true
        },
        {
          "key": "code_type",
          "canConditional": true
        },
        {
          "key": "add_date",
          "canConditional": true
        },
        {
          "key": "promote_problem",
          "canConditional": true
        },
        {
          "key": "put_summary",
          "canConditional": true
        },
        {
          "key": "isMajor",
          "canConditional": true
        },
        {
          "key": "forcedMappings",
          "canConditional": true
        }
      ],
      "value": [
        {
          "id": 6,
          "child": "XaKqd",
          "c_term": "Letter Received",
          "addCode": false,
          "isMajor": false,
          "add_date": false,
          "code_type": "",
          "put_summary": "",
          "forcedMappings": "",
          "promote_problem": ""
        },
        {
          "id": 2,
          "child": "XaPCc",
          "c_term": "Seen by ambulance crew",
          "addCode": true,
          "isMajor": false,
          "add_date": true,
          "code_type": "",
          "put_summary": "Put in the summary",
          "forcedMappings": "",
          "promote_problem": "Promote to problem"
        },
        {
          "id": 5,
          "child": "XaIwQ",
          "c_term": "Ophthalmology Code",
          "addCode": true,
          "isMajor": true,
          "add_date": true,
          "code_type": "",
          "put_summary": "Put in the inactive summary",
          "forcedMappings": "",
          "promote_problem": "Promote to problem"
        }
      ]
    }
  },
  "metrics": {
    "metrics_list": {
      "columns": [
        {
          "key": "add_metric",
          "canConditional": true
        },
        {
          "key": "metric_codes",
          "dependsOn": "add_metric"
        },
        {
          "key": "add_date",
          "canConditional": true
        },
        {
          "key": "date_type",
          "dependsOn": "add_date",
          "canConditional": true
        }
      ],
      "value": [
        {
          "id": "d8412a42-4f3f-4680-ba18-ea31b6e00fef",
          "metric": "blood_pressure",
          "add_date": false,
          "date_type": "",
          "add_metric": true,
          "metric_codes": "2469/246A."
        },
        {
          "id": "e57c4b0b-510b-4ae5-ad0a-763752d68d82",
          "metric": "weight",
          "add_date": true,
          "date_type": "var(weight_date)",
          "add_metric": true,
          "metric_codes": "227.."
        },
        {
          "id": "28ea904d-0baa-4cde-b15f-5b88a7aebb17",
          "metric": "height",
          "add_date": false,
          "date_type": "",
          "add_metric": true,
          "metric_codes": "229.."
        },
        {
          "id": "191e44e7-277b-4dd1-8fa7-41d84d8e28f3",
          "metric": "bmi",
          "add_date": false,
          "date_type": "",
          "add_metric": true,
          "metric_codes": "22K.."
        },
        {
          "id": "1cf0ff46-1bca-43aa-8691-9bdaa3c0a560",
          "metric": "heart_rate",
          "add_date": false,
          "date_type": "",
          "add_metric": false,
          "metric_codes": ""
        },
        {
          "id": "dd56fc43-7a36-4073-98e6-85b5d2f9e65b",
          "metric": "o2_level",
          "add_date": false,
          "date_type": "",
          "add_metric": false,
          "metric_codes": ""
        },
        {
          "id": "f37f418c-567b-42ba-8255-c379b48e97fd",
          "metric": "smoker",
          "add_date": false,
          "date_type": "",
          "add_metric": false,
          "metric_codes": ""
        }
      ]
    }
  },
  "forward_letter": {
    "forwardLetter": {
      "else": {
        "notes": "",
        "value": "false",
        "isKilled": false,
        "batch_name": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "2622fccc-b9e8-4a3f-bf49-fd03657f50d7",
              "type": "condition",
              "field": "var(notes)",
              "value": "",
              "operator": "is_not_empty",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "notes": "",
            "value": "true",
            "isKilled": false,
            "batch_name": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "forwarding_type": "Group",
    "forwarding_to": "Kynoby Coding",
    "send_task": "false",
    "send_task_type": "",
    "send_task_to": "",
    "choose_flag": "false",
    "flag_color": ""
  }
}