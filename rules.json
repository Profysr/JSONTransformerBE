{
  "letter_type_rule": {
    "letter_type": {
      "else": {
        "value": "var(letter_type)",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "dd7c1a4f-5273-48b8-a7e8-54434c975877",
              "type": "condition",
              "field": "hospital_name",
              "value": "York",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "York Letter type",
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "letter_date": "var(incident_date)",
    "hospital_name": "var(hospital_name)",
    "department": "var(department)"
  },
  "exception_json": {
    "action_required": {
      "else": {
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "11b66f4a-e19b-4850-82f6-7fc6e9b94f81",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Action Required",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "GP Action Required",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "safeguarding": {
      "else": {
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "fa2337df-53e5-48ae-89bc-854fc163a399",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Safeguarding",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "Safeguarding Concerns Detected",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "deceased": {
      "else": {
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "ed9065fe-7f8a-443d-88f0-e76e46db7d1d",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Deceased",
              "operator": "contains",
              "caseSensitive": false
            },
            {
              "id": "3c5e5d95-dc2c-414a-9536-c9d4d27a4396",
              "type": "condition",
              "field": "var(deceased)",
              "value": "true",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": true,
            "batch_name": "Practice to Review - Urgent",
            "recipient_notes": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "OR"
        },
        {
          "rules": [
            {
              "id": "2f3509d1-f0ac-45bb-a5d8-3c2db795c64d",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Deducted",
              "operator": "contains",
              "caseSensitive": false
            },
            {
              "id": "c17cdd27-6607-462e-892b-a1f7f448814f",
              "type": "condition",
              "field": "var(deducted)",
              "value": "true",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": true,
            "batch_name": "Practice to Review - Non Urgent",
            "recipient_notes": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "medication": {
      "else": {
        "value": "",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {
          "choose_flag": {
            "flag_color": "",
            "primaryValue": "false"
          },
          "forwardLetter": {
            "primaryValue": "false",
            "forwarding_to": "",
            "forwarding_type": ""
          }
        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "e42e2f5b-ee20-452d-bec6-f2fb6a2afb18",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Medication",
              "operator": "contains",
              "caseSensitive": false
            },
            {
              "id": "e30e2df0-58dc-4e38-99a6-68a70debc79b",
              "type": "condition",
              "field": "var(rpa_note)",
              "value": "Medicine",
              "operator": "contains",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": "skip",
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "Meds Perscribed / Changes",
            "matrixAssignments": {
              "choose_flag": {
                "flag_color": "Green",
                "primaryValue": "true"
              },
              "forwardLetter": {
                "primaryValue": "true",
                "forwarding_to": "Perscriptions Team",
                "forwarding_type": "Group"
              }
            }
          },
          "rootLogicType": "OR"
        }
      ]
    }
  },
  "e2e_config_json": {
    "add_readcodes": "true",
    "add_date": {
      "else": {
        "value": "false",
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {

        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "4c3d80b7-6755-43e3-9351-757c3ccf3a2e",
              "type": "condition",
              "field": "var(read_code_date)",
              "value": "",
              "operator": "is_not_empty",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": {
              "date_type": "var(read_code_date)",
              "primaryValue": "true"
            },
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "",
            "matrixAssignments": {

            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "specific_codes": {
      "columns": [
        {
          "key": "child",
          "canConditional": true
        },
        {
          "key": "addCode",
          "canConditional": true
        },
        {
          "key": "code_type",
          "canConditional": true
        },
        {
          "key": "add_date",
          "canConditional": true
        },
        {
          "key": "promote_problem",
          "canConditional": true
        },
        {
          "key": "put_summary",
          "canConditional": true
        },
        {
          "key": "problem_severity",
          "canConditional": true
        },
        {
          "key": "forcedMappings",
          "canConditional": true
        }
      ],
      "value": [
        {
          "id": 3,
          "child": "XaBnr",
          "c_term": "Screening, monitoring and surveillance",
          "addCode": true,
          "add_date": false,
          "code_type": "",
          "put_summary": "",
          "forcedMappings": "",
          "promote_problem": "",
          "problem_severity": ""
        }
      ]
    }
  },
  "metrics_config_rules": {
    "metrics_list": {
      "columns": [
        {
          "key": "add_metric",
          "canConditional": true
        },
        {
          "key": "metric_codes",
          "dependsOn": "add_metric",
          "canConditional": true
        },
        {
          "key": "add_date",
          "canConditional": true
        },
        {
          "key": "date_type",
          "dependsOn": "add_date",
          "canConditional": true
        }
      ],
      "value": [
        {
          "id": "blood_pressure",
          "metric": "blood_pressure",
          "add_date": false,
          "date_type": "",
          "add_metric": true,
          "metric_codes": "2469/246A."
        },
        {
          "id": "weight",
          "metric": "weight",
          "add_date": {
            "else": {
              "value": "false",
              "isKilled": false,
              "batch_name": "",
              "recipient_notes": "",
              "matrixAssignments": {

              }
            },
            "type": "cascading-advanced",
            "clauses": [
              {
                "rules": [
                  {
                    "id": "b00f281f-4d28-4be0-8929-0139c5102c32",
                    "type": "condition",
                    "field": "var(weight_date)",
                    "value": "",
                    "operator": "is_not_empty",
                    "caseSensitive": false
                  }
                ],
                "outcome": {
                  "value": "true",
                  "isKilled": false,
                  "batch_name": "",
                  "recipient_notes": "",
                  "matrixAssignments": {

                  }
                },
                "rootLogicType": "AND"
              }
            ]
          },
          "date_type": "var(weight_date)",
          "add_metric": true,
          "metric_codes": "227.."
        },
        {
          "id": "height",
          "metric": "height",
          "add_date": false,
          "date_type": "",
          "add_metric": true,
          "metric_codes": "229.."
        },
        {
          "id": "bmi",
          "metric": "bmi",
          "add_date": false,
          "date_type": "",
          "add_metric": true,
          "metric_codes": "22K.."
        },
        {
          "id": "heart_rate",
          "metric": "heart_rate",
          "add_date": false,
          "date_type": "",
          "add_metric": false,
          "metric_codes": ""
        },
        {
          "id": "o2_level",
          "metric": "o2_level",
          "add_date": false,
          "date_type": "",
          "add_metric": false,
          "metric_codes": ""
        },
        {
          "id": "smoker",
          "metric": "smoker",
          "add_date": false,
          "date_type": "",
          "add_metric": false,
          "metric_codes": ""
        }
      ]
    }
  },
  "assignment_rules": {
    "forwardLetter": {
      "else": {
        "value": {
          "primaryValue": "true",
          "forwarding_to": "Kynoby Coding",
          "forwarding_type": "Group"
        },
        "isKilled": false,
        "batch_name": "",
        "recipient_notes": "",
        "matrixAssignments": {
          "choose_flag": {
            "flag_color": "",
            "primaryValue": "false"
          }
        }
      },
      "type": "cascading-advanced",
      "clauses": [
        {
          "rules": [
            {
              "id": "121dbaff-6d23-4870-bd1d-9896d6586e77",
              "type": "condition",
              "field": "var(recipient_notes)",
              "value": "",
              "operator": "is_not_empty",
              "caseSensitive": false
            }
          ],
          "outcome": {
            "value": {
              "primaryValue": "true",
              "forwarding_to": "Kynoby Actions",
              "forwarding_type": "Group"
            },
            "isKilled": false,
            "batch_name": "",
            "recipient_notes": "",
            "matrixAssignments": {
              "choose_flag": {
                "flag_color": "URGENT",
                "primaryValue": "true"
              }
            }
          },
          "rootLogicType": "AND"
        }
      ]
    },
    "choose_flag": {
      "flag_color": "",
      "primaryValue": "false"
    }
  }
}