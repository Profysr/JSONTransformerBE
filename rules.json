{"config": [{"icon": "Settings", "title": "Letter Type Configuration", "fields": [{"id": "letter_type", "type": "logic_input", "label": "Letter type", "value": {"else": {"notes": "", "value": "Out of Hours", "isKilled": false, "batch_name": ""}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "def30c84-fe4b-4e7f-87e3-19208c34d69c", "type": "condition", "field": "hospital_name", "value": "NHS ", "operator": "contains", "caseSensitive": false}], "outcome": {"notes": "", "value": "NHS 111", "isKilled": false, "batch_name": ""}, "rootLogicType": "AND"}]}, "isActive": true, "isLocked": false, "helperText": "If you want to remap letter-type name, Enter new name? (Optional). e.g: map 'A&E' into 'Accident and Emergency'"}, {"id": "letter_date", "type": "logic_input", "label": "Letter Date", "value": "var(letter_date) ", "isActive": true, "isLocked": false, "helperText": "Select the field that holds the letter date. This field supports referencing JSON fields."}, {"id": "hospital_name", "type": "logic_input", "label": "Hospital Name", "value": "NHS 111", "isActive": true, "isLocked": false, "helperText": "Enter the default hospital name."}, {"id": "department", "type": "logic_input", "label": "Department", "value": "skip", "isActive": true, "isLocked": true, "helperText": "Enter the default department name."}], "sectionKey": "letter_type_configuration", "isCollapsed": false}, {"icon": "ClipboardCheck", "title": "Exception Checks", "fields": [{"id": "action_required", "type": "logic_input", "label": "Action Required", "value": {"else": {"notes": "", "value": "true", "isKilled": true, "batch_name": "GP Action Required "}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "82ba3f93-7a21-41dd-805d-e76007ee7650", "type": "condition", "field": "var(rpa_note)", "value": "Action Required ", "operator": "contains", "caseSensitive": false}, {"id": "99d4b153-325a-4dd2-80aa-dbcef7df9d45", "type": "group", "rules": [{"id": "aa47d709-5794-4c10-9a4d-e58456dab856", "type": "condition", "field": "var(rpa_note)", "value": "deceased ", "operator": "not_contains", "caseSensitive": false}, {"id": "3d383a75-43d4-43dd-bf60-8c78347b222d", "type": "condition", "field": "var(taken_to_hospital)", "value": "true", "operator": "contains", "caseSensitive": false}, {"id": "ad2399f0-7a01-4fab-b325-1c013781999b", "type": "condition", "field": "var(deceased)", "value": "true", "operator": "contains", "caseSensitive": false}], "logicType": "AND"}], "outcome": {"notes": "", "value": "skip", "isKilled": false, "batch_name": ""}, "rootLogicType": "AND"}]}, "isActive": true, "isLocked": false, "helperText": "If you want to flag letters on Action Required, specify the batch name, else write down notes for recipient e.g. 'GP Action Required'"}, {"id": "safeguarding", "type": "logic_input", "label": "Safeguarding", "value": {"else": {"notes": "", "value": "", "isKilled": false, "batch_name": ""}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "36ab76b2-f23c-4c4c-a725-805dbfaf1a57", "type": "condition", "field": "var(patient_age)", "value": "12", "operator": "less_than", "caseSensitive": false}, {"id": "a80c4cc7-7df6-4c35-9f2f-9480fe5710ce", "type": "condition", "field": "var(rpa_note)", "value": "Safeguarding ", "operator": "contains", "caseSensitive": false}], "outcome": {"notes": "Safeguarding Concerns Detected", "value": "true", "isKilled": false, "batch_name": ""}, "rootLogicType": "OR"}]}, "isActive": true, "isLocked": false, "helperText": "Specify details or routing instructions for safeguarding alerts."}, {"id": "deceased", "type": "logic_input", "label": "Deceased", "value": {"else": {"notes": "", "value": "", "isKilled": false, "batch_name": ""}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "c2346fcc-5528-4db2-92ca-2f42ba507ff1", "type": "condition", "field": "var(rpa_note)", "value": "deceased ", "operator": "contains", "caseSensitive": false}, {"id": "bdd0352d-b430-4ed6-9cef-78a1e5a2c022", "type": "condition", "field": "var(deceased)", "value": "true", "operator": "contains", "caseSensitive": false}], "outcome": {"notes": "", "value": "true", "isKilled": true, "batch_name": "Deceased Patient "}, "rootLogicType": "AND"}]}, "isActive": true, "isLocked": false, "helperText": "Specify the protocol for handling letters addressed to deceased patients."}, {"id": "deducted", "type": "logic_input", "label": "Deducted", "value": "", "isActive": false, "isLocked": false, "helperText": "Specify the condition for deducted patients."}, {"id": "dnacpr", "type": "logic_input", "label": "DNACPR", "value": "", "isActive": false, "isLocked": false, "helperText": "Enter the workflow or batch name for DNACPR (Do Not Attempt CPR) documentation."}, {"id": "unknown_letter_type", "type": "logic_input", "label": "Unknown Letter Type", "value": "", "isActive": false, "isLocked": false, "helperText": "Define the default action or batch for unclassified letter types."}, {"id": "vaccines", "type": "logic_input", "label": "Vaccines", "value": "", "isActive": false, "isLocked": false, "helperText": "Specify the batch name or processing notes for vaccine-related correspondence."}, {"id": "blood", "type": "logic_input", "label": "Blood", "value": "", "isActive": false, "isLocked": false, "helperText": "Specify instructions for blood test results or pathology reports."}, {"id": "fall", "type": "logic_input", "label": "Fall", "value": {"else": {"notes": "", "value": {"fall": "skip", "notes": "var(notes) ", "choose_flag": "false", "add_readcodes": "false", "forwardLetter": "false"}, "isKilled": false, "batch_name": ""}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "c0f13302-7aed-4d4e-89a2-0aa221351363", "type": "condition", "field": "var(rpa_note)", "value": "fall ", "operator": "contains", "caseSensitive": false}, {"id": "2d9930b3-a876-4813-ac7c-829e3a74ee31", "type": "condition", "field": "var(patient_age)", "value": "70", "operator": "greater_than", "caseSensitive": false}], "outcome": {"notes": "Over 70 Fall Patient ", "value": {"fall": "skip", "notes": "skip", "flag_color": "Green", "choose_flag": "true", "add_readcodes": "true", "forwardLetter": "true", "forwarding_to": "Kynoby Coding", "forwarding_type": "Group"}, "isKilled": false, "batch_name": ""}, "rootLogicType": "AND"}]}, "isActive": true, "isLocked": false, "helperText": "Define notes for letters related to patient falls or geriatric assessments."}, {"id": "abnormal_codes", "type": "logic_input", "label": "Abnormal Codes", "value": "", "isActive": false, "isLocked": false, "helperText": "Enter the batch name or notes for flagging abnormal clinical codes."}, {"id": "patient_age", "type": "logic_input", "label": "Patient Age", "value": "", "isActive": false, "isLocked": false, "helperText": "Specify the condition for patient age check. e.g if patient age < 12, flag as safeguarding"}, {"id": "multiple_nhsIds", "type": "logic_input", "label": "Multiple NHS Ids", "value": "", "isActive": false, "isLocked": false, "helperText": "Specify the condition for when multiple NHS IDs exist in the letter."}, {"id": "missing_nhsIds", "type": "logic_input", "label": "Missing NHS Id", "value": "", "isActive": false, "isLocked": false, "helperText": "Specify the condition for when NHS ID is missing."}], "sectionKey": "exception_checks", "isCollapsed": false}, {"icon": "Hash", "title": "E2E Read Codes", "fields": [{"id": "add_readcodes", "type": "boolean", "label": "Add Read Codes", "value": "true", "isActive": true, "isLocked": false, "helperText": "Do you want to add read codes, defined in the tool? If No, then you can define your default codes in the table below"}, {"id": "add_date", "type": "boolean", "label": "Add Date with ReadCode", "value": "true", "isActive": true, "isLocked": false, "helperText": "Do you want to add date with read codes? "}, {"id": "date_type", "type": "dropdown", "label": "Date Type for Read code", "value": "var(read_code_date)", "options": [{"id": "letter_date", "label": "Letter Date", "jsonField": true}, {"id": "read_code_date", "label": "Read Code Date", "jsonField": true}], "isActive": true, "isLocked": false, "dependsOn": "add_date", "helperText": "Specify the default date type for read code. Do you want to use letter date or associated read code date? --help: use var(<<var_name>>)"}, {"id": "attach_problems", "type": "boolean", "label": "Attach to Problem Links", "value": "true", "isActive": true, "isLocked": false, "helperText": "Do you want to add diagnosis codes using Problem Links?"}, {"id": "create_problems", "type": "boolean", "label": "Create Problem Links", "value": {"else": {"notes": "", "value": "false", "isKilled": false, "batch_name": ""}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "09b36290-6bcf-462d-a45d-2bb71267a86f", "type": "condition", "field": "var(read_code_date)", "value": "", "operator": "is_not_empty", "caseSensitive": false}], "outcome": {"notes": "", "value": "true", "isKilled": false, "batch_name": ""}, "rootLogicType": "AND"}]}, "isActive": true, "isLocked": false, "helperText": "Do you want to create Problem Links if not already exists?"}, {"id": "promote_problem", "type": "dropdown", "label": "Promote Problem", "value": "", "options": ["No", "Promote to problem", "Promote to inactive problem"], "isActive": false, "isLocked": false, "helperText": "Do you want to create the problem as read code and then promote the problem link?"}, {"id": "put_summary", "type": "dropdown", "label": "Put Summary", "value": "", "options": ["No", "Put in the summary", "Put in the inactive summary"], "isActive": false, "isLocked": false, "helperText": "Do you want to create the problem as read code and then put in the summary?"}, {"id": "isMajor", "type": "boolean", "label": "Problem Severity (Major)", "value": "false", "isActive": true, "isLocked": false, "helperText": "Do you want to add all the diagnosis as Major? (General)?"}, {"id": "add_endDate_problem", "type": "boolean", "label": "Add End Date for Problems", "value": "", "isActive": false, "isLocked": false, "helperText": "Do you want to add end date when creating new Problem link. By default, we add only start date."}, {"id": "endDate_duration", "type": "input", "label": "Define the End Month Duration (in months)", "value": "", "isActive": false, "isLocked": false, "dependsOn": "add_endDate_problem", "helperText": "Write down the duration in months. For example: if you want to add 1 Year as End Date for a problem, write 12 in input field"}, {"id": "use_inactive", "type": "boolean", "label": "Use InActive Problem Links", "value": "", "isActive": false, "isLocked": false, "helperText": "if you want to use inactive problem links, in case active problem link is not already exist"}, {"id": "override_bilateral", "type": "boolean", "label": "Override Bilateral", "value": "", "isActive": false, "isLocked": false, "helperText": "if we search for code with laterality right|left but code with laterality bilateral already exist, then the automation override left with bilateral"}, {"id": "search_codes_in_problems", "type": "boolean", "label": "Seach Read Codes in Problem Links", "value": "", "isActive": false, "isLocked": false, "helperText": "Look for read codes in Problem Links Table. If it already exists, then attach to it, otherwise add them as read codes"}, {"id": "specific_codes", "type": "table", "label": "Specific Codes Transformation", "value": [{"id": 6, "child": "XaKqd", "c_term": "Letter Received", "addCode": false, "isMajor": false, "add_date": false, "code_type": "", "put_summary": "", "forcedMappings": "", "promote_problem": ""}, {"id": 2, "child": "XaPCc", "c_term": "Seen by ambulance crew", "addCode": true, "isMajor": false, "add_date": true, "code_type": "", "put_summary": "Put in the summary", "forcedMappings": "", "promote_problem": "Promote to problem"}, {"id": 5, "child": "XaIwQ", "c_term": "Ophthalmology Code", "addCode": true, "isMajor": true, "add_date": true, "code_type": "", "put_summary": "Put in the inactive summary", "forcedMappings": "", "promote_problem": "Promote to problem"}], "columns": [{"key": "child", "type": "input", "label": "Child Code", "canConditional": true}, {"key": "addCode", "type": "boolean", "label": "Add Code?", "helperText": "Select Yes/No OR Define your condition when to add this diagnosis code?", "parentField": true, "canConditional": true}, {"key": "code_type", "type": "dropdown", "label": "Code Type", "options": ["Null", "Procedure", "Diagnosis"], "helperText": "Define your code type. Press the toggle 3 times to view all the options", "canConditional": true}, {"key": "add_date", "type": "boolean", "label": "Add Date?", "helperText": "We'll be adding only letter date if you select this option", "canConditional": true}, {"key": "promote_problem", "type": "dropdown", "label": "Promote Problem", "options": ["No", "Promote to problem", "Promote to inactive problem"], "canConditional": true}, {"key": "put_summary", "type": "dropdown", "label": "Put Summary", "options": ["No", "Put in the summary", "Put in the inactive summary"], "canConditional": true}, {"key": "isMajor", "type": "boolean", "label": "Major?", "helperText": "Do you want to add this code as Major in Problem Links?", "canConditional": true}, {"key": "forcedMappings", "type": "logic", "label": "Forced Mappings", "helperText": "Define mappings for this diagnosis code. E.g., map 'abc' to 'xyz' laterality.", "canConditional": true}], "isActive": true, "isLocked": false, "helperText": "Search and manage specific codes, their behaviours, and forced mappings. Define conditions for each code. If these codes are already present in the list, we'll modify it, other create it according to the rules", "usePagination": true}], "sectionKey": "readCodes", "isCollapsed": false}, {"icon": "BarChart3", "title": "Metrics", "fields": [{"id": "metrics_list", "type": "table", "label": "Metrics List", "value": [{"id": "3163fe67-d658-48fc-b1b7-8de7cfaa9e58", "metric": "blood_pressure", "add_date": false, "date_type": "", "add_metric": true, "metric_codes": "2469/246A."}, {"id": "780a8565-d5f1-4260-be8c-13c7e8ed83f2", "metric": "weight", "add_date": {"else": {"notes": "", "value": "false", "isKilled": false, "batch_name": ""}, "type": "cascading-advanced", "clauses": [{"rules": [{"id": "15c7f437-36ce-408f-bde2-d6d299dee3e7", "type": "condition", "field": "var(weight_date)", "value": "", "operator": "is_empty", "caseSensitive": false}], "outcome": {"notes": "", "value": "true", "isKilled": false, "batch_name": ""}, "rootLogicType": "AND"}]}, "date_type": "var(weight_date)", "add_metric": true, "metric_codes": "227.."}, {"id": "8e7801d2-b88c-4e4e-ba9c-d8403a0c70b4", "metric": "height", "add_date": true, "date_type": "var(letter_date)", "add_metric": true, "metric_codes": "229.."}, {"id": "324011d5-db43-40a6-a17d-6ac9bdcce9f6", "metric": "bmi", "add_date": false, "date_type": "", "add_metric": true, "metric_codes": "22K.."}, {"id": "14b0490b-8569-450a-94c7-3f3f8ab4ddf0", "metric": "heart_rate", "add_date": false, "date_type": "", "add_metric": false, "metric_codes": "X773s"}, {"id": "45ece08c-25e2-4ac0-a132-6ccf17b9bdc1", "metric": "o2_level", "add_date": false, "date_type": "", "add_metric": false, "metric_codes": "X77cx"}, {"id": "a3863b2b-0f84-466d-9777-c87084445f4c", "metric": "smoker", "add_date": false, "date_type": "", "add_metric": false, "metric_codes": "X77cx"}], "columns": [{"key": "metric", "type": "input", "label": "Metrics Name"}, {"key": "add_metric", "type": "boolean", "label": "Add Metric?", "parentField": true, "canConditional": true}, {"key": "metric_codes", "type": "input", "label": "Metric Code", "dependsOn": "add_metric"}, {"key": "add_date", "type": "boolean", "label": "Add Date?", "canConditional": true}, {"key": "date_type", "type": "dropdown", "label": "Date Type", "options": [{"id": "letter_date", "label": "Letter Date", "jsonField": true}, {"id": "incident_date", "label": "Incident Date", "jsonField": true}, {"id": "weight_date", "label": "Weight Date", "jsonField": true}], "dependsOn": "add_date", "canConditional": true}], "isActive": true, "isLocked": false, "helperText": "Manage metrics, their codes, and associated dates.", "enableSearch": false, "usePagination": true}], "sectionKey": "metrics", "isCollapsed": false}, {"icon": "Send", "title": "Assignment of Letter (Forwarding)", "fields": [{"id": "forwardLetter", "type": "boolean", "label": "Forward Letter", "value": "true", "isActive": true, "isLocked": false, "helperText": "If you want to forward the letter to specific user/team/staff, choose 'Yes', otherwise 'No'"}, {"id": "forwarding_type", "type": "dropdown", "label": "Forward Type", "value": "Group", "options": ["Group", "Team", "Staff"], "isActive": true, "isLocked": false, "dependsOn": "forwardLetter", "helperText": "where do you want to forward the letter (Group, Team, Staff)"}, {"id": "forwarding_to", "type": "logic_input", "label": "Forward to", "value": "Kynoby Coding", "isActive": true, "isLocked": false, "dependsOn": "forwardLetter", "helperText": "where do you want to forward the letter (Usergroup: Kynoby Coding)"}, {"id": "send_task", "type": "boolean", "label": "Send Task", "value": "false", "isActive": true, "isLocked": false, "helperText": "Do you want to send this letter as task?"}, {"id": "send_task_type", "type": "dropdown", "label": "Send Task Type", "value": "", "options": ["Group", "Team", "Staff"], "isActive": true, "isLocked": false, "dependsOn": "send_task", "helperText": "where do you want to forward the letter (Group, Team, Staff)"}, {"id": "send_task_to", "type": "logic_input", "label": "Send Task to", "value": "", "isActive": true, "isLocked": false, "dependsOn": "send_task", "helperText": "where do you want to send the letter as a task (Kynoby Coding)"}, {"id": "choose_flag", "type": "boolean", "label": "Choose Flag", "value": "false", "isActive": true, "isLocked": false, "helperText": "Do you want to choose flag?"}, {"id": "flag_color", "type": "dropdown", "label": "Flag Color", "value": "", "options": [{"id": "URGENT", "label": "URGENT"}, {"id": "Green", "label": "Green"}, {"id": "Pink", "label": "Pink"}, {"id": "Yellow", "label": "Yellow"}, {"id": "Black", "label": "Black"}], "isActive": true, "isLocked": false, "dependsOn": "choose_flag", "helperText": "Define Flag Color"}], "sectionKey": "forward_letter", "isCollapsed": false}]}